# -*- makefile -*-

# rules for LATEX
%.dvi: %.tex
	${LATEX} $< && ${LATEX} $<

%.aux: %.tex
	${LATEX} $< && ${LATEX} $<

%.bbl: %.aux
	${BIBTEX} ${<:.aux=}


## Shared targets
ALL_TEXPS   :=$(strip $(foreach x,${//},${${x:.=.TEXPS}}))

${ALL_TEXPS}: %.ps: %.dvi
	${DVIPS} -o $@ $<

${ALL_TEXPS:.ps=.pdf}: %.pdf: %.ps
	${PS2PDF} $< $@

# some extra goodies
%.gv: %.ps
	${VIEWPS} $<

%.print: %.ps
	${PRINTPS} $<


__SUBGOALS__+=$${${1:.=.TEXPS}}


